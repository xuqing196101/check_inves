<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="bss.dao.ppms.BidAnnouncementMapper">
  <resultMap id="BidAnnouncementResultMap" type="bss.model.ppms.BidAnnouncement">
    <id column="ID" jdbcType="VARCHAR" property="id" />   
    <result column="STATUS" jdbcType="DECIMAL" property="status" />
    <result column="CREATED_AT" jdbcType="DATE" property="createdAt" />
    <result column="UPDATED_AT" jdbcType="DATE" property="updatedAt" />
    <result column="IS_DELETED" jdbcType="DECIMAL" property="isDeleted" />
    <result column="CONTENT" jdbcType="CLOB" property="content" />
    <association column="PROJECT_ID"  property="project" select="bss.dao.ppms.ProjectMapper.selectProjectByPrimaryKey"></association>
  </resultMap>
  
  <sql id="Base_Column_List">
    ID, PROJECT_ID, STATUS, CREATED_AT, UPDATED_AT, IS_DELETED, CONTENT
  </sql>
  
		    <!-- 根据Id查询 -->
		    <select id="selectBidAnnouncementById" parameterType="object" resultMap="BidAnnouncementResultMap">
		        select 
		        <include refid="Base_Column_List" />
		        from T_BSS_PPMS_BID_ANNOUNCEMENT
		        WHERE ID =#{id}
		    </select>
		    
            <!-- 插入一条记录 -->
          <insert id="insertSelective" parameterType="bss.model.ppms.BidAnnouncement">
            <selectKey keyProperty="id" resultType="String" order="BEFORE">
                select sys_guid() from dual
            </selectKey>
            insert into T_BSS_PPMS_BID_ANNOUNCEMENT
            <trim prefix="(" suffix=")" suffixOverrides=",">
              <if test="id != null">
                ID,
              </if>

              <if test="createdAt != null">
                CREATED_AT,
              </if>
              <if test="updatedAt != null">
                UPDATED_AT,
              </if>
              <if test="content != null">
                CONTENT,
              </if>             
                STATUS,            
              <if test="project != null">
                PROJECT_ID,
              </if>
               IS_DELETED,
            </trim>
            <trim prefix="values (" suffix=")" suffixOverrides=",">
              <if test="id != null">
                #{id},
              </if>
              <if test="createdAt != null">
                #{createdAt},
              </if>
              <if test="createdAt != null">
                #{updatedAt},
              </if>
              <if test="content != null">
                #{content},
              </if>
              0,
              <if test="project != null">
                #{project.id},
              </if>
               0,
            </trim>
          </insert>
 

</mapper>